!function($){$.fn.suggest=function(t,e){var s=$.extend({suggestionColor:"#ccc",moreIndicatorClass:"suggest-more",moreIndicatorText:"&hellip;"},e);return this.each(function(){$this=$(this);var e=$("<div/>",{css:{position:"absolute",height:"100%",width:"100%",top:"5px",left:"0px","text-align":"left",display:"inline","overflow-x":"hidden",padding:$this.cssShortForAllSides("padding"),margin:$this.cssShortForAllSides("margin"),fontFamily:$this.css("fontFamily"),fontSize:$this.css("fontSize"),fontStyle:$this.css("fontStyle"),lineHeight:$this.css("lineHeight"),fontWeight:$this.css("fontWeight"),letterSpacing:$this.css("letterSpacing"),backgroundColor:$this.css("backgroundColor"),color:s.suggestionColor,fontKerning:$this.css("fontKerning"),"z-index":"-99"}}),i=$("<span/>",{css:{position:"absolute",top:e.height()+parseInt($this.css("fontSize"),10)/2,left:e.width(),display:"block",fontSize:$this.css("fontSize"),fontFamily:$this.css("fontFamily"),color:s.suggestionColor},class:s.moreIndicatorClass}).html(s.moreIndicatorText).hide(!0);$this.attr({autocomplete:"off",spellcheck:"false",dir:"ltr"}).css({background:"transparent"}).wrap($("<div/>",{css:{position:"relative",paddingBottom:"1em"}})).bind("keydown.suggest",function(t){var s=t.keyCode?t.keyCode:t.which;if(9!=s||t.altKey){if(13==s)e.is(":empty")||t.preventDefault();else if(38==s||40==s){t.preventDefault();var i=$(this).data("suggestions");i.all.length>1&&(40==s&&i.index<i.all.length-1?i.suggest.html(i.all[++i.index]):38==s&&i.index>0&&i.suggest.html(i.all[--i.index]),$(this).data("suggestions").index=i.index)}}else t.preventDefault()}).bind("keyup.suggest",function(s){var n=s.keyCode?s.keyCode:s.which;if(38==n||40==n)return!1;i.hide();var o=$(this).val(),l=o.replace(" ","&nbsp;");if(9==n||13==n){s.preventDefault();var r=$(this).data("suggestions");return $(this).val(r.terms[r.index]),homeSearchEnter($(this).val()),e.empty(),!1}if(e.empty(),!$.trim(o).length)return!1;for(var a=new RegExp("^"+o.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i"),r=[],h=[],g=0,c=t;g<c.length;g++)a.test(c[g])&&(h.push(c[g]),r.push(l+c[g].slice(o.length)));r.length>0&&(r[0]!==o&&e.html(r[0]),$(this).data("suggestions",{all:r,terms:h,index:0,suggest:e}),r.length>1&&i.show())}).bind("blur.suggest",function(){e.empty()}),e.insertAfter($this),i.insertAfter(e)})},$.fn.cssShortForAllSides=function(t){var e=$(this),s=[],i=$.map(["Top","Right","Bottom","Left"],function(e){return t+e});return $.each(i,function(t,i){s.push(e.css(i)||"0")}),s.join(" ")}}(jQuery);